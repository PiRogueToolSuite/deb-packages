pirogue-networking (1.2.0) bookworm; urgency=medium

  * Rename source and binary package from pirogue-ap to a more generic
    pirogue-networking, as we're adding support for more use cases, while
    retaining the main building blocks at the network configuration level.
  * Delete postinst script, letting pirogue-admin deal with autodetection,
    and with configuring the various services based on the templates.
  * Turn all configuration files and related actions into templates
    shipped into a subdirectory of /usr/share/pirogue-admin/.
  * Drop Provides/Conflicts on pirogue-network-routing: it's much easier
    to have a single package managing the network than having several
    packages providing this feature through a virtual package.
  * Add nftables to Depends, as a first step towards supporting only one
    way to express firewall rules: supporting both nftables and iptables
    means duplicating rules, and focusing on one of them should be enough.
  * Add wireguard-tools to Depends, as a first step towards supporting the
    VPN use case.
  * Mask dnsmasq.service in preinst: Debian-provided cloud images include
    systemd-networkd and systemd-resolved, and the latter prevents dnsmasq
    from getting installed successfully with its default configuration.
    Therefore, mask the unit when the package gets installed initially,
    until pirogue-admin kicks in, and uses the template which restricts
    the interfaces the daemon listens on, avoiding the conflict.
  * Make sure dnsmasq doesn't get confused by resolvconf bits shipped by
    systemd-resolved, by forcing RESOLV_CONF=/etc/resolv.conf through
    a systemd unit override.
  * When the NFTABLES_MODE condition is met, make sure nftables.service is
    enabled and restarted.
  * Replace the initial @DHCP_RANGE@ implementation with a more generic
    @DHCP_RANGE_LINE@, making it possible to keep dnsmasq enabled for all
    modes, while also making it possible to disable DHCP support (e.g. to
    avoid a rogue DHCP server in APPLIANCE mode, depending on the network
    setup). Replace the DNSMASQ_NEEDED condition with an ENABLE_DHCP
    variable accordingly.

 -- Cyril Brulebois <cyril@debamax.com>  Thu, 22 Aug 2024 05:17:36 +0200

pirogue-ap (1.1.2) bookworm; urgency=medium

  * Remove dhcpcd5 from Depends: it's a transitional package for dhcpcd
    in the first place, can trigger conflicts with raspberrypi-sys-mods
    in Raspberry OS (which some users attempted to use until we added
    experimental support for Raspberry Pi 5), and is likely responsible
    for some reported connection losses, possibly by racing against
    dhclient.
  * Stop shipping dhcpcd.conf accordingly.
  * Stop tweaking dhcpcd.conf during postinst accordingly.
  * Adjust /etc/network/interfaces.d/wlan0:
     - If upgrading, from a version strictly before 1.1.2, archive it
       under /root, then stop, disable, mask dhcpcd. Make sure wlan0 is
       still configured with 10.8.0.1/24 afterwards.
     - In any case, write the static configuration: IPv4 = 10.8.0.1/24.

 -- Cyril Brulebois <cyril@debamax.com>  Sun, 28 Jul 2024 18:36:24 +0200

pirogue-ap (1.1.1) bookworm; urgency=medium

  * Improve firewalling by blocking traffic from the Wi-Fi network to the LAN network.

 -- U+039b <hello@pts-project.org>  Sun, 31 Dec 2023 11:28:48 +0100

pirogue-ap (1.1.0) bookworm; urgency=medium

  * New upstream release, targeting Debian 12.

 -- U+039b <hello@pts-project.org>  Tue, 29 Aug 2023 13:08:23 +0200

pirogue-ap (1.0.3) unstable; urgency=medium

  * Improve wi-fi performance and stability

 -- U+039b <hello@pts-project.org>  Mon, 15 Aug 2022 23:55:13 +0200

pirogue-ap (1.0.2) unstable; urgency=medium

  * Load configuration either from pirogue-ctl or the configuration file to prevent losing current configuration

 -- U+039b <hello@pts-project.org>  Thu, 11 Aug 2022 15:36:45 +0200

pirogue-ap (1.0.1) unstable; urgency=medium

  * Automatically detect network interfaces

 -- U+039b <hello@pts-project.org>  Mon, 04 Jul 2022 19:27:00 +0200

pirogue-ap (1.0.0) unstable; urgency=medium

  * Initial commit.

 -- U+039b <hello@pts-project.org>  Sun, 17 Apr 2022 21:01:19 +0200
